<!-- ============================================ -->
<!-- üìÅ src/app/book-donation/book-donation.component.html -->
<!-- ============================================ -->

<div class="bookstore-container">
  
  <!-- Header compartido -->
  <app-header 
    [cartItems]="cartItems" 
    [savedItems]="savedItems" 
    currentPage="book-donation"
    (searchPerformed)="onSearchPerformed($event)">
  </app-header>

  <!-- Contenido principal del libro -->
  <main class="book-detail-main">
    <div class="container">
      
      <!-- Bot√≥n de regreso -->
      <div class="back-button-container">
        <button class="btn-back" (click)="goBack()">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M19 12H5M12 19L5 12L12 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Regresar
        </button>
      </div>

      <!-- Layout centrado de la informaci√≥n -->
      <div class="book-detail-container">
        
        <!-- Imagen del libro -->
        <div class="book-image-section">
          <div class="book-image-container">
            <img [src]="book.image" [alt]="book.title" class="book-detail-image">
          </div>
        </div>

        <!-- Informaci√≥n principal del libro -->
        <div class="book-info-section">
          <div class="book-info">
            
            <!-- T√≠tulo - sin precio para donaciones -->
            <div class="book-header">
              <h1 class="book-title">{{book.title}}</h1>
              <div class="donation-badge">DONACI√ìN</div>
            </div>

            <!-- Autor -->
            <p class="book-author">{{book.author}}</p>

            <!-- Donante -->
            <div class="donor-info">
              <span class="donor-label">Donado por:</span>
              <span class="donor-name">{{book.donor}}</span>
            </div>

            <!-- Estado -->
            <div class="book-condition">
              <span class="condition-label">Estado:</span>
              <span class="condition-value">{{book.condition}}</span>
            </div>

            <!-- Botones de acci√≥n -->
            <div class="action-buttons">
              <button class="btn-save" 
                      [class.saved]="isBookSaved()"
                      (click)="toggleSaveBook()"
                      title="Guardar libro">
                <svg width="20" height="20" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                  <path d="M19 21L12 16L5 21V5C5 4.46957 5.21071 3.96086 5.58579 3.58579C5.96086 3.21071 6.46957 3 7 3H17C17.5304 3 18.0391 3.21071 18.4142 3.58579C18.7893 3.96086 19 4.46957 19 5V21Z" 
                        [attr.fill]="isBookSaved() ? '#6A93B2' : 'none'"
                        stroke="currentColor" 
                        stroke-width="2" 
                        stroke-linecap="round" 
                        stroke-linejoin="round"/>
                </svg>
              </button>

              <!-- ‚ú® BOT√ìN PRINCIPAL: SOLICITAR LIBRO -->
              <button class="btn-request-book" (click)="requestBook()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="me-2">
                  <path d="M21 8V7C21 6.46957 20.7893 5.96086 20.4142 5.58579C20.0391 5.21071 19.5304 5 19 5H5C4.46957 5 3.96086 5.21071 3.58579 5.58579C3.21071 5.96086 3 6.46957 3 7V8M21 8L12 13L3 8M21 8V17C21 17.5304 20.7893 18.0391 20.4142 18.4142C20.0391 18.7893 19.5304 19 19 19H5C4.46957 19 3.96086 18.7893 3.58579 18.4142C3.21071 18.0391 3 17.5304 3 17V8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Solicitar libro
              </button>
            </div>

          </div>
        </div>
      </div>

      <!-- Separador -->
      <hr class="section-divider">

      <!-- Informaci√≥n detallada en dos columnas -->
      <div class="details-container">
        
        <!-- Sinopsis -->
        <div class="info-section">
          <h3 class="section-title">Sinopsis</h3>
          <p class="section-content">{{book.synopsis}}</p>
          <div class="details-continuation">
            <p class="section-content">{{book.details}}</p>
          </div>
        </div>

        <!-- Detalles del producto -->
        <div class="info-section">
          <h3 class="section-title">Detalles del producto</h3>
          
          <div class="details-list">
            <div class="detail-item">
              <span class="detail-label">N√∫mero de p√°ginas:</span>
              <span class="detail-value">{{book.pages}} p√°ginas</span>
            </div>
            
            <div class="detail-item">
              <span class="detail-label">Fecha de publicaci√≥n:</span>
              <span class="detail-value">{{book.publishDate}}</span>
            </div>
            
            <div class="detail-item">
              <span class="detail-label">ISBN:</span>
              <span class="detail-value">{{book.isbn}}</span>
            </div>
            
            <div class="detail-item">
              <span class="detail-label">Editorial:</span>
              <span class="detail-value">{{book.editorial}}</span>
            </div>
            
            <div class="detail-item">
              <span class="detail-label">Categor√≠a:</span>
              <span class="detail-value">{{book.category}}</span>
            </div>
            
            <div class="detail-item">
              <span class="detail-label">Transacci√≥n:</span>
              <span class="detail-value transaction-type">{{book.transaction}}</span>
            </div>
          </div>
        </div>
      </div>

    </div>
  </main>
</div>